Bootstrap: docker
From: nvcr.io/nvidia/tensorflow:20.12-tf2-py3

%post
    pip install qiskit qiskit-aer-gpu numba matplotlib
    pip cache purge

    wget https://nodejs.org/dist/v14.15.2/node-v14.15.2-linux-x64.tar.xz
    tar xf node-v14.15.2-linux-x64.tar.xz
    cp -r node-v14.15.2-linux-x64/{bin,include,lib,share} /usr/local
    rm -rf node-v14*

    jupyter labextension install -y jupyterlab-emacskeys

%startscript
    jupyter lab --no-browser

%environment
	export CUDA_CACHE_DISABLE=0
	export LC_ALL=C
	export PS1='[\u@\h \w]$'
	